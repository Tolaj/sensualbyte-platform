{
  "collection": "resource_status",
  "validator": {
    "$jsonSchema": {
      "bsonType": "object",
      "required": [
        "resourceId",
        "observedGeneration",
        "state",
        "lastUpdatedAt"
      ],
      "properties": {
        "_id": {},
        "resourceId": {
          "bsonType": "string"
        },
        "observedGeneration": {
          "bsonType": [
            "int",
            "long",
            "double"
          ]
        },
        "state": {
          "bsonType": "string",
          "enum": [
            "creating",
            "ready",
            "error",
            "deleting"
          ]
        },
        "message": {
          "bsonType": [
            "string",
            "null"
          ]
        },
        "details": {
          "bsonType": [
            "object",
            "null"
          ],
          "additionalProperties": true
        },
        "lastUpdatedAt": {
          "bsonType": "date"
        }
      }
    }
  }
}